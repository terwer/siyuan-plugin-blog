# zhi

ğŸ›ï¸ ä¸€æ¬¾è‡ªå¸¦æ’ä»¶å’Œåšå®¢çš„æ€æºç¬”è®°ä¸»é¢˜

![version](https://img.shields.io/github/release/terwer/zhi.svg?style=flat-square)
![license](https://img.shields.io/badge/license-GPL-blue.svg?style=popout-square)

âš ï¸æ¸©é¦¨æç¤ºï¼šå¦‚æœä½ åªæƒ³è¦ä¸€ä¸ªè½»é‡çº§çš„ä¸»é¢˜ï¼Œè¯·ç§»æ­¥ï¼š[zhi-mini](https://github.com/terwer/zhi-mini)

`zhi` å’Œ `zhi-mini` ä¼šåŒæ­¥æ›´æ–°ã€‚å”¯ä¸€çš„åŒºåˆ«æ˜¯ zhi-mini æ›´åŠ è½»é‡çº§ï¼Œä¸ä¼šåŒ…å«ä¸»é¢˜ä¹‹å¤–çš„ä»»ä½•ç»„ä»¶ã€‚

## ä¸»é¢˜å±•ç¤º

### æµ…è‰²é£æ ¼

![](https://static.terwergreen.com/test/202303050157804.png)

### æš—é»‘é£æ ¼

![](https://static.terwergreen.com/test/202303050156263.png)

### åšå®¢ä¸»é¡µ

![](https://static.terwergreen.com/test/202303052323466.png)

### å¿«é€Ÿä¸Šæ‰‹

ç›´æ¥åœ¨æ€æºç¬”è®° `é›†å¸‚` ä¸‹è½½ `zhi` ä¸»é¢˜ï¼Œç„¶ååœ¨ <kbd>è®¾ç½®</kbd> - <kbd>å¤–è§‚</kbd> - <kbd>ä¸»é¢˜</kbd> é€‰æ‹© `zhi` ä¸»é¢˜å³å¯

## è®¾è®¡å“²å­¦

- ä¸»é¢˜æ ¸å¿ƒå°½é‡ä¿æŒè¶³å¤Ÿè½»é‡ã€å°å·§
- å°½å¯èƒ½çš„ä½¿ç”¨æ’ä»¶å®ç°åŠŸèƒ½
- æ’ä»¶åŠŸèƒ½å•ä¸€åŒ–ï¼Œæœç»åŠŸèƒ½æ— è„‘å †ç§¯
- ç»„ä»¶å°½å¯èƒ½ä¿æŒå¯é‡ç”¨

## å‰æ’æ¨è

zhi ç³»åˆ—ç”Ÿæ€

- [zhi](https://github.com/terwer/zhi)
- [zhi-mini](https://github.com/terwer/zhi-mini)
- [zhi-cli](https://github.com/terwer/zhi-cli)
- [zhi-common](https://github.com/terwer/zhi-common)
  - [zhi-sdk](https://github.com/terwer/zhi-sdk)
      - [zhi-env](https://github.com/terwer/zhi-env)
      - [zhi-log](https://github.com/terwer/zhi-log)
      - zhi-core
      - zhi-blog-api
      - zhi-siyuan-api

âš ï¸ ç‰¹åˆ«æé†’ 1: `1.0.0` ä¸ºå‰æœŸå¯ç”¨ç‰ˆæœ¬ï¼ŒåŠŸèƒ½ä¸Šå°šä¸å…¨é¢ï¼Œä»…ä½œä¸ºæµ‹è¯•ä½¿ç”¨ï¼Œæ¬¢è¿ issue
æå‡ºå®è´µæ„è§ã€‚æ­¤ç‰ˆæœ¬ç‰¹æ€§ï¼Œè¯·å‚ç…§ [æ ¸å¿ƒç‰¹æ€§](#æ ¸å¿ƒç‰¹æ€§) ã€‚

âš ï¸ ç‰¹åˆ«æé†’ 2: æ’ä»¶ç³»ç»Ÿé»˜è®¤ä¸º `å®‰å…¨æ¨¡å¼` ï¼Œæ‰€æœ‰æ’ä»¶ç¦ç”¨ï¼Œéœ€è¦ç‚¹å‡»å³ä¸Šè§’è®¾ç½®èœå•å…³é—­å®‰å…¨æ¨¡å¼ï¼Œæ‰èƒ½å¼€å¯æ’ä»¶ç³»ç»Ÿã€‚

âš ï¸ ç‰¹åˆ«æé†’ 3: æ‰€æœ‰æ’ä»¶é»˜è®¤å…³é—­ï¼Œéœ€è¦æ‰‹åŠ¨åœ¨æ’ä»¶åˆ—è¡¨å¼€å¯å¯¹åº”æ’ä»¶æ‰èƒ½ä½¿ç”¨ï¼Œç›®å‰å†…ç½®å¯ç”¨çš„æ’ä»¶å¦‚ä¸‹ï¼š

- ç³»ç»Ÿè®¾ç½®æ’ä»¶ï¼ˆæ’ä»¶ç³»ç»Ÿå†…ç½®ï¼‰
- ç¤ºä¾‹æ’ä»¶-éœ€æ‰‹åŠ¨å¼€å¯
- å›¾ç‰‡èƒŒæ™¯è‡ªåŠ¨é€æ˜æ’ä»¶-éœ€æ‰‹åŠ¨å¼€å¯
- æ€æºç¬”è®°å‘å¸ƒå·¥å…·é›†æˆæ’ä»¶-éœ€æ‰‹åŠ¨å¼€å¯
- åšå®¢æ’ä»¶-éœ€æ‰‹åŠ¨å¼€å¯
- æ›´å¤šæ’ä»¶å¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…...

## ç‰ˆæœ¬é€‚é…

æ€æºç¬”è®° <sup>2.7.6+</sup>

## æ ¸å¿ƒç‰¹æ€§

- ä¸»é¢˜çµæ„Ÿæºè‡ªäºçŸ¥ä¹ä½†ä¸é™äºçŸ¥ä¹é£æ ¼ï¼Œå¤–è§‚ä¼˜åŒ–åŒ…æ‹¬ä¸é™äºï¼š

    - å­—ä½“æ ·å¼ç¾åŒ–ï¼Œè‹±æ–‡ä»¥ `Open Sans` ä¸ºä¸»ï¼Œ ä¸­æ–‡ä»¥ `è½éœå­¤é¹œ` ä¸ºä¸»
    - èƒŒæ™¯è‰²ä¼˜åŒ–
    - ä»£ç å—ç¾åŒ–ï¼Œç±»ä¼¼ `Mac` çª—å£é£æ ¼

- æ•´åˆçƒ­é—¨æŒ‚ä»¶ä»¥åŠå…¶ä»–å°å·¥å…·ï¼Œæä¾›ç»Ÿä¸€çš„å…¥å£

    - é›†æˆ `sy-post-publisher` æ€æºç¬”è®°å‘å¸ƒå·¥å…·ï¼Œæ— éœ€æ‰‹åŠ¨æ·»åŠ æŒ‚ä»¶ï¼Œæ— éœ€æ·»åŠ  js ç‰‡æ®µï¼Œå¼€ç®±å³ç”¨

      æ³¨æ„ï¼š`sy-post-publisher` éœ€è¦å•ç‹¬åœ¨é›†å¸‚æŒ‚ä»¶ä¸‹è½½

- å¤©ç”Ÿæ”¯æŒæ’ä»¶ç³»ç»Ÿï¼Œæ’ä»¶ç³»ç»Ÿç”±ç¤¾åŒºå¼€å‘è€…æä¾›æ”¯æŒ

    - æ–‡æ¡£å›¾ç‰‡èƒŒæ™¯è‡ªåŠ¨é€æ˜æ’ä»¶
    - åšå®¢æ’ä»¶

- åŒæ—¶æå®šä¸»é¢˜ä¸é¢„è§ˆï¼Œå®‰è£…äº† zhi ä¸»é¢˜ç›¸å½“äºé¢å¤–å®‰è£…äº†ä¸€ä¸ªæ’ä»¶ç³»ç»Ÿï¼Œä¸€ä¸ªåœ¨çº¿åšå®¢

  åšå®¢ä¸»é¡µï¼šhttp://127.0.0.1:6806/appearance/themes/zhi/apps/blog/dist/

  æŒ‚ä»¶ç‰ˆåšå®¢ç®¡ç†ä¸å‘å¸ƒä¸»é¡µï¼šhttp://127.0.0.1:6806/widgets/sy-post-publisher/blog/?from=siyuanNewWin

æ³¨æ„äº‹é¡¹ï¼šæ’ä»¶ç³»ç»Ÿä¸ºç¤¾åŒºçƒ­å¿ƒå¼€å‘è€…æä¾›ï¼Œè¯·è¯¦ç»†äº†è§£ç›¸å…³æœºåˆ¶ä¹‹åå†ä½¿ç”¨ã€‚

## ç‰ˆæœ¬è§„åˆ’

### 1.1.x

- [ ] åšå®¢æƒé™æ§åˆ¶

## æŠ€æœ¯è·¯çº¿

### æ ¸å¿ƒæ¡†æ¶

- åŸºç¡€è®¾æ–½ï¼š[zhi-sdk](https://github.com/terwer/zhi-sdk)

- å…¬å…±ç»„ä»¶(zhi-common): [zhi-cli](https://github.com/terwer/zhi-cli) + [zhi-sdk](https://github.com/terwer/zhi-sdk)

- åšå®¢(zhi-blog)ï¼š[Nuxt framework](https://nuxt.com/) + [Vue3](https://vuejs.org/) + [Stylus](https://stylus-lang.com/)

- ä¸»é¢˜(zhi-theme)ï¼š[Vite](https://vitejs.dev/) + [TypeScript](https://www.typescriptlang.org/) + [Stylus](https://stylus-lang.com/)

ä¾èµ–å…³ç³»å¦‚ä¸‹ï¼š

- zhi-common
    - zhi-sdk
        - zhi-log
            - zhi-env

- zhi-mini
    - zhi-sdk

- zhi-theme
    - zhi-common

- zhi-blog
    - zhi-common

å…¶ä¸­ï¼Œå…¬å…±ç»„ä»¶( `zhi-common` )åŸºäºæˆ‘çš„å¦ä¸€ä¸ªè„šæ‰‹æ¶é¡¹ç›® [zhi-cli](https://github.com/terwer/zhi-cli) çš„æ¨¡æ¿ç±»å‹ `ts-vite-lib` ç”Ÿæˆ:

```bash
## åˆå§‹åŒ–å…¬å…±ç»„ä»¶
npm i -g zhi-cli
zhi-cli init common ts-vite-lib
```

### é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ README.md
â”œâ”€â”€ apps åº”ç”¨æ ¹ç›®å½•
â”‚Â Â  â”œâ”€â”€ common å…¬å…±ç»„ä»¶æ ¹ç›®å½•
â”‚Â Â  â”œâ”€â”€ blog åšå®¢æ ¹ç›®å½•
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ dist åšå®¢é¢„è§ˆå…¥å£
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.vue åšå®¢vueæºç å…¥å£
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.styl åšå®¢stylæºç å…¥å£
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ .prettierrc.json åšå®¢tsæºç æ ¼å¼åŒ–é…ç½®
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ .stylelintrc.json åšå®¢stylæ ·å¼æ ¼å¼åŒ–é…ç½®
â”‚Â Â  â””â”€â”€ theme ä¸»é¢˜æ ¹ç›®å½•
â”‚Â Â      â”œâ”€â”€ theme.ts ä¸»é¢˜tsæºç å…¥å£
â”‚Â Â      â”œâ”€â”€ theme.styl ä¸»é¢˜stylæºç å…¥å£
â”‚Â Â      â”œâ”€â”€ .prettierrc.json ä¸»é¢˜tsæºç æ ¼å¼åŒ–é…ç½®
â”‚Â Â      â”œâ”€â”€ .stylelintrc.json ä¸»é¢˜stylæ ·å¼æ ¼å¼åŒ–é…ç½®
â”œâ”€â”€ styles æ ·å¼æ ¹ç›®å½•
â”œâ”€â”€ scripts è„šæœ¬æ ¹ç›®å½•
â”œâ”€â”€ theme.json ä¸»é¢˜æè¿°æ–‡ä»¶         
â”œâ”€â”€ theme.js ä¸»é¢˜jsæ–‡ä»¶ï¼Œè‡ªåŠ¨ç”Ÿæˆï¼Œè¯·å‹¿ä¿®æ”¹
â”œâ”€â”€ theme.css ä¸»é¢˜cssæ–‡ä»¶ï¼Œè‡ªåŠ¨ç”Ÿæˆï¼Œè¯·å‹¿ä¿®æ”¹
â”œâ”€â”€ .stylelintrc.json å…¨å±€æ ·å¼æ ¼å¼åŒ–é…ç½®
â”œâ”€â”€ .github Github-Actions-CIæŒç»­é›†æˆå’Œrelease-pleaseè‡ªåŠ¨å‘ç‰ˆ
â”œâ”€â”€ docs å¸®åŠ©æ–‡æ¡£
â”œâ”€â”€ temp åšå®¢å’Œä¸»é¢˜æ’ä»¶çš„ä¸´æ—¶å‹ç¼©åŒ…
```

ç‰¹åˆ«è¯´æ˜ï¼š

- ä¸»é¢˜ä¼šæ ¹æ®ç‰ˆæœ¬å·è‡ªåŠ¨æ£€æµ‹å¹¶è§£å‹åˆ°å¯¹åº”ç›®å½•

- å‘ç‰ˆæœ¬ä¹‹ååˆ é™¤ä¸Šä¸€ç‰ˆ

æ¨èä½¿ç”¨ `IntelliJ IDEA` æˆ–è€… `vscode` è¿›è¡Œå¼€å‘ã€‚

### æœ¬åœ°è°ƒè¯•

1. ä¸‹è½½å‹ç¼©åŒ…ï¼Œè§£å‹åˆ°ä¸»é¢˜ç›®å½•ã€‚ä¸»é¢˜ç›®å½•åœ¨ <kbd>è®¾ç½®</kbd> - <kbd>å¤–è§‚</kbd> - <kbd>ä¸»é¢˜</kbd> - <kbd>æ‰“å¼€ä¸»é¢˜æ–‡ä»¶å¤¹</kbd>

2. å®‰è£…ä¾èµ–ï¼Œæ„å»ºé¡¹ç›®

```bash
npm i -g pnpm
pnpm dependency
pnpm build
```

3. <kbd>è®¾ç½®</kbd> - <kbd>å¤–è§‚</kbd> - <kbd>ä¸»é¢˜</kbd> é€‰æ‹© `zhi` ä¸»é¢˜å³å¯

## Useful scripts

### CI building

```bash
pnpm ci
```

### Preparing for publishing to npm

```bash
pnpm package
```

### Docs

```bash
pnpm docs
```

## æ„Ÿè°¢

æ„Ÿè°¢ [zuoez02](https://github.com/zuoez02/siyuan-plugin-system) æä¾›çš„æ’ä»¶ç³»ç»Ÿ
